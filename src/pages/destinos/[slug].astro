---
import { type CollectionEntry, getEntry } from 'astro:content';
import DestinoLayout from '../../layouts/DestinoLayout.astro';

const { slug } = Astro.params;

try {
    const destino = await getEntry('destinos', slug);
    if (!destino) {
        throw new Error('Destino n√£o encontrado');
    }
    
    const { Content } = await destino.render();
    
    return (
        <DestinoLayout {...destino.data}>
            <Content />
        </DestinoLayout>
    );
} catch (error) {
    return Astro.redirect('/404');
}
---